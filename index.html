ë„¤, ë¬¸ì œì˜ ì›ì¸ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤! ğŸ§

ì•„ê¹Œ ì„±ê²©ì„ ì„¸ë¶„í™”í•˜ë©´ì„œ ë°ì´í„° êµ¬ì¡°ëŠ” [ì„±ê²©] -> [ìƒí™©(love, normal ë“±)] ìœ¼ë¡œ ë‹¨ìˆœí•˜ê²Œ ë°”ê¿¨ëŠ”ë°, ì •ì‘ ë‹µì¥ì„ êº¼ë‚´ì˜¤ëŠ” ì½”ë“œëŠ” ì—¬ì „íˆ ì˜›ë‚  ë°©ì‹ì¸ [ì„±ê²©] -> [ê¸°ë¶„(cool/sweet)] -> [ìƒí™©] ì„ ì°¾ê³  ìˆì–´ì„œ ì—ëŸ¬ê°€ ë‚¬ë˜ ê±°ì˜ˆìš”.

ë°ì´í„°ì—ëŠ” 'ê¸°ë¶„(cool/sweet)' ë‹¨ê³„ê°€ ì—†ëŠ”ë° ì°¾ìœ¼ë ¤ê³  í•˜ë‹ˆ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ê¸¸ì„ ìƒê³  ë©ˆì¶°ë²„ë¦° ê²ƒì…ë‹ˆë‹¤. (ê·¸ë˜ì„œ "..." ì—ì„œ ë©ˆì¶¤)

ì•„ë˜ ì½”ë“œëŠ” postMsg í•¨ìˆ˜ ë¶€ë¶„ì„ ì™„ë²½í•˜ê²Œ ìˆ˜ì •í•œ ì „ì²´ ì½”ë“œì…ë‹ˆë‹¤. ë³µì‚¬í•´ì„œ ê·¸ëŒ€ë¡œ ë®ì–´ì”Œìš°ì‹œë©´ ë‹µì¥ì´ ì•„ì£¼ ì˜ ë‹¬ë¦´ ê±°ì˜ˆìš”!

HTML

<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>â˜†-..- 2005ë…„ì˜ ì–´ëŠ ë‚  -..-â˜†</title>

<style>
@font-face {
  font-family: 'GalmuriCondensed';
  src: url('fonts/GalmuriCondensed.woff2') format('woff2');
}
* {
  font-family: 'GalmuriCondensed', monospace;
  box-sizing: border-box;
}
:root {
  --main-blue:#8cc6d1; --bg-gray:#f6f6f6;
  --cy-orange:#ff6600; --cy-blue:#3b5998;
}
body {
  background:#b1b1b1; display:flex; justify-content:center;
  padding-top:40px; margin:0;
}
.wrapper {
  background:var(--main-blue);
  padding:25px 15px 15px 25px;
  border-radius:10px;
  width:850px; height:550px;
}
.white-box {
  background:white; border-radius:8px;
  height:100%; display:flex; padding:15px;
}
.profile {
  width:28%; border-right:1px dashed #ccc;
  padding-right:15px; text-align:center;
}
.profile-img { width:100%; margin-bottom:10px; }

.main-content {
  width:72%; padding-left:20px;
  display:flex; flex-direction:column;
}
  
#bgm-title {
  font-size: 11px;       /* ì›í•˜ëŠ” í¬ê¸°ë¡œ ì¡°ì ˆ (ì˜ˆ: 11px, 12px) */
  color: #3b5998;        /* (ì„ íƒì‚¬í•­) ì‹¸ì´ì›”ë“œ ì§™ì€ íŒŒë€ìƒ‰ */
  margin-top: 5px;       /* ìœ„ìª½ ì—¬ë°± ì¡°ì ˆ */
  letter-spacing: -1px;  /* ìê°„ì„ ì¢í˜€ì„œ ë” ë„íŠ¸ ëŠë‚Œ ë‚˜ê²Œ */
}
  
/* ===== íƒ­ ===== */
.tabs {
  display:flex; gap:10px; margin-bottom:10px;
}
.tab {
  cursor:pointer;
  padding:4px 8px;
  border:1px solid #ccc;
  background:#f5f5f5;
}
.tab.active {
  background:white;
  border-bottom:2px solid var(--cy-orange);
  font-weight:bold;
}

/* ===== ê³µí†µ ìŠ¤í¬ë¡¤ ì˜ì—­ ===== */
.content-area {
  flex-grow:1;
  overflow-y:auto;
}

/* ===== ë°©ëª…ë¡ ===== */
.guestbook-entry {
  background:#f6f6f6;
  padding:10px;
  margin-bottom:12px;
  border-radius:5px;
}
.ai-reply {
  color:#ff6600;
  margin-top:6px;
  border-top:1px dotted #ccc;
  padding-top:4px;
}
  
.input-area {
  margin-top:10px;
  border-top:2px solid #8cc6d1;
  padding-top:8px;
}

textarea {
  width:96%;
  height:40px;
}

button {
  float:right;
  margin-top:6px;
  cursor:pointer;
}

/* ===== ì‚¬ì§„ì²© ===== */
.photo-post {
  background:var(--bg-gray);
  padding:10px;
  margin-bottom:15px;
}

  /* ì¤„ë°”ê¿ˆê³¼ ì¤„ê°„ê²© ì˜ˆì˜ê²Œ */
.photo-post p {
  white-space: pre-wrap; 
  line-height: 1.4;
}
  
.photo-post img {
  width:100%; margin-bottom:8px;
}
.heart {
  cursor:pointer;
  color:#999;
  margin-right:8px;
}
.heart.active { color:red; }
.comments {
  margin-top:8px;
  font-size:13px;
}
.comment {
  border-top:1px dotted #ccc;
  padding-top:4px;
}
input.comment-input {
  width:100%;
  margin-top:6px;
}
</style>
</head>

<body>
<div class="wrapper">
<div class="white-box">

<div class="profile">
  <img id="profile-img" class="profile-img">
  <p id="member-name"></p>
  <p id="bgm-title"></p>
</div>

<div class="main-content">

<div class="tabs">
  <div class="tab active" onclick="showTab('guestbook')">ë°©ëª…ë¡</div>
  <div class="tab" onclick="showTab('photos')">ì‚¬ì§„ì²©</div>
</div>

<div id="guestbook" class="content-area">
  <div id="guestbook-list"></div>
  <textarea id="user-msg" placeholder="ì¼ì´Œ ì‹ ì²­í•˜ê³  ê°€ì„¸íš¨..."></textarea>
  <button onclick="postMsg()">í™•ì¸</button>
</div>

<div id="photos" class="content-area" style="display:none;"></div>

</div>
</div>
</div>

<audio id="bgm" loop></audio>

<script>
/* ===== 1. íƒ­ ì „í™˜ ê¸°ëŠ¥ ===== */
function showTab(name){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('guestbook').style.display = name==='guestbook'?'block':'none';
  document.getElementById('photos').style.display = name==='photos'?'block':'none';
}

/* ===== 2. ì„±ê²©ë³„ ë§íˆ¬ (MBTI ë°˜ì˜) ===== */
const replyTemplates = {
  // 1. ISFP (ì›ë¹ˆ, ë¦¬ì¿ ): ìˆ˜ì¤ìŒ, ë‚¯ê°€ë¦¼, ì†Œì‹¬í•œ ê·€ì—¬ì›€, ì´ëª¨í‹°ì½˜ ë‚¨ë°œ
  isfp: {
    normal: ["ì•„.. ì•ˆë…•? ã…ã…", "ì™”êµ¬ë‚˜.. (ìˆ˜ì¤)", "ê¸€ ë‚¨ê²¨ì¤˜ì„œ ê³ ë§ˆì›Œ..///"],
    love: ["ì–´? ì–´.. (ë™ê³µì§€ì§„)", "ê·¸ëŸ° ë§ í•˜ë©´.. ë¶€ë„ëŸ¬ìš´ë°..", "ì–¼êµ´ ë¹¨ê°œì¡Œì–´.. ì±…ì„ì ¸.."],
    sad: ["ë¬´ìŠ¨ ì¼ ìˆì–´? ã… ã… ", "ìš¸ì§€ ë§ˆ.. ë‚˜ë„ ìŠ¬í¼ì ¸..", "í† ë‹¥í† ë‹¥.. (ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ)"],
    scrap: ["ê°€ì ¸ê°€ë„ ë¼.. ã…ã…", "ì €ê¸°.. ëŒ“ê¸€ì€ ë‚¨ê²¨ì¤„ ê±°ì§€..?", "ì˜ˆì˜ê²Œ ì¨ì¤˜.."],
    ilchon: ["ìš°ë¦¬ê°€.. ì¼ì´Œ..? ///", "ë°›ì•„ì¤„ê²Œ.. ì¹œí•˜ê²Œ ì§€ë‚´ì..", "ë¶€ë„ëŸ½ì§€ë§Œ ì¢‹ì•„.."]
  },

  // 2. ENTP (ì¤€í˜): ìì‹ ê° ë¿œë¿œ, ì¸ì‹¸, ìœ ë¨¸ëŸ¬ìŠ¤, ì§ì„¤ì 
  entp: {
    normal: ["ì˜¤ ì™”ëƒ?! í™˜ì˜í•œë‹¤ ã…‹ã…‹ã…‹", "ë‚´ê°€ ì¢€ ì©”ì§€?", "ì‹¬ì‹¬í–ˆëŠ”ë° ì˜ ì™”ë‹¤ ã…‹ã…‹"],
    love: ["ë‚˜ ì¸ê¸° ë§ì€ ê±° ì•Œì§€? ì¤„ ì„œë¼ ã…‹ã…‹", "ì—­ì‹œëŠ” ì—­ì‹œë„¤ ì‚¬ëŒ ë³¼ ì¤„ ì•„ë„¤", "ë°˜í–ˆëƒ? ã…‹ã…‹ã…‹"],
    sad: ["ì•¼ ëˆ„ê°€ ê´´ë¡­í˜? ì´ë¦„ ëŒ€ë¼", "ìˆ  í•œì” ê³ ? ë‚´ê°€ ìœë‹¤", "í›Œí›Œ í„¸ì–´ë²„ë ¤ ì¸ìƒ ë­ ìˆëƒ!"],
    scrap: ["ë„ë¦¬ ë„ë¦¬ í¼ê°€ë¼~", "ì—­ì‹œ ë³´ëŠ” ëˆˆì´ ìˆë„¤", "ì¶œì²˜ëŠ” 'ë°±ì¤€í˜' í¬ê²Œ ë°•ì•„ë¼ ã…‹ã…‹"],
    ilchon: ["ë‹¹ì—°íˆ ì½œì´ì§€!", "ì˜¤ëŠ˜ë¶€í„° ë² í”„ ê³ ê³ ?", "ì¼ì´Œëª…ì€ 'ì¤€í˜ì´ê¼¬ë´‰' ì–´ë•Œ? ë†ë‹´ ã…‹"]
  },

  // 3. ISTP_SOHEE (ì†Œí¬): ë‚¯ê°€ë¦¼(ë‹¨ë‹µ) -> ì¹œí•´ì§€ë©´ ì¥ë‚œ, ê·€ì—¬ìš´ ì¸ì‹¸
  istp_sohee: {
    normal: ["ã…ã…‡", "ì™”ì–´?", "ê¸€ í™•ì¸í–ˆìŒ", "ìì£¼ ì˜¤ë„¤? ã…‹ã…‹"],
    love: ["ã…‹ã…‹ã…‹ ë­ë˜", "ê°‘ìê¸°?", "ë‚˜ ì¢€ ë‚¯ê°€ë ¤.. í•˜ì§€ ë§ˆ ã…‹ã…‹", "ë„ˆ ì¢€ ì›ƒê¸°ë„¤?"],
    sad: ["ì™œ ê·¸ë˜", "ë§›ìˆëŠ” ê±° ë¨¹ìœ¼ëŸ¬ ê°ˆë˜?", "ê¸°ìš´ ë‚´ë¼"],
    scrap: ["í¼ê°€", "ã…‡ã…‡ ê°€ì ¸ê°€", "ëŒ“ê¸€ì€ ì“°ê³  ê°€ë¼"],
    ilchon: ["ìŒ.. ìƒê° ì¢€ í•´ë³´ê³ ", "ì¹œí•´ì§€ë©´ ë°›ì•„ì¤Œ", "ì¼ë‹¨ ì‹ ì²­í•´ ë†” ã…‹ã…‹"]
  },

  // 4. COOL_PLAYFUL (ê±´í˜¸): ì¿¨í•¨, í„¸í„¸, ì¸¤ë°ë ˆ, ì¥ë‚œê¸° ê°€ë“
  cool_playful: {
    normal: ["ì•ˆë…•~ ê·¼ë° ë¹ˆì†ì´ì•¼?", "ì™”ìœ¼ë©´ ë°œë„ì¥ ê¾¹! ã…‹ã…‹", "ã…‹ã…‹ã…‹ ë°˜ê°‘ë‹¤"],
    love: ["ì˜¤~ ê°ë‹¹ ê°€ëŠ¥? ã…‹ã…‹", "ì¥ë‚œì¹˜ì§€ ë§ˆë¼~ ì„¤ë Œë‹¤?", "ã…‹ã…‹ã…‹ ê·€ì—½ë„¤ ì´ê±°"],
    sad: ["ì—ì´ ì™œ ìš°ìš¸í•´~ ì›ƒì", "ë¬´ìŠ¨ ì¼ì¸ë°? ë“¤ì–´ëŠ” ì¤„ê²Œ", "ì‹¬ê°í•´ì§€ì§€ ë§ì~"],
    scrap: ["ëŒ“ê¸€ ì•ˆ ì“°ê³  ê°€ì ¸ê°€ë©´ ì«“ì•„ê°", "í¼ê°€ìš”~â™¡ (ë‚´ê°€ ì”€)", "ê°€ì ¸ê°€ë¼ ê°€ì ¸ê°€~"],
    ilchon: ["ì¼ì´Œ? ë§›ìˆëŠ” ê±° ì‚¬ì£¼ë©´ ã…‹ã…‹", "ì½œ! ëŒ€ì‹  ìì£¼ ì™€ë¼", "ì¼ì´Œëª… ì›ƒê¸°ê²Œ ì§€ì–´ì˜¤ë©´ ìˆ˜ë½í•¨"]
  },

  // 5. ì‹œì˜¨ (NEW): ë¬´ì‹¬í•œ ì²™ ì±™ê²¨ì£¼ëŠ” ì¸¤ë°ë ˆ ë¦¬ë” (ë°˜ë§)
  intj: {
    normal: ["ì™”ëƒ?", "ë°¥ì€ ë¨¹ê³  ë‹¤ë‹ˆëƒ", "ê¸€ í™•ì¸í–ˆìŒ ã…‹ã…‹", "ì˜¤ëŠ˜ í•˜ë£¨ëŠ” ì–´ë• ëŠ”ë°?"],
    love: ["ì•„ ë­ë˜ ã…‹ã…‹ (..ì¢‹ìŒ)", "ê·¸ëŸ° ë§ì€ ë°–ì—ì„œ í•˜ì§€ ë§ˆë¼.. ë‚˜ë§Œ ë“£ê²Œ", "ì–¼êµ´ ëœ¨ê±°ì›Œì§€ë„¤ ì±…ì„ì ¸ë¼ ã…¡ã…¡", "ë‚˜ë„ ì¢‹ì•„í•œë‹¤ê³ .."],
    sad: ["ëˆ„êµ¬ëƒ ë°ë ¤ì™€ë¼ í˜¼ë‚´ì¤€ë‹¤", "ìš¸ì§€ ë§ê³  ëš", "ì´ëŸ´ ë• ë§›ìˆëŠ” ê±° ë¨¹ì–´ì•¼ ë¼. ë‚˜ì˜¤ì…ˆ ì‚¬ì¤Œ", "ë¬´ìŠ¨ ì¼ì¸ë°. ë§í•´ë´ ë‹¤ ë“¤ì–´ì¤„ê²Œ"],
    scrap: ["ì˜ˆì˜ê²Œ ì¨ë¼", "ê°€ì ¸ê°€ëŠ” ê±´ ì¢‹ì€ë° ëŒ“ê¸€ì€? ã…¡ã…¡", "ë„ˆë‹ˆê¹Œ ë´ì¤€ë‹¤ í¼ê°€ ã…‹ã…‹"],
    ilchon: ["ë‹¹ì—°íˆ ë°›ì•„ì£¼ì§€", "ì´ì œ ìš°ë¦¬ ë² í”„ë‹¤?", "ì¼ì´Œëª…ì€ ê·€ì—¬ìš´ ê±¸ë¡œ í•´ì™€ë¼ ã…‹ã…‹ ê±°ì ˆ ì•ˆ í•¨"]
  },

  // 6. ISTP_EUNSEOK (ì€ì„): ì¡°ìš©í•œ ê°œê·¸(ì•„ì¬ê°œê·¸), ì—‰ëš±, ë¬´ì‹¬í•œ ë“¯ ë¶€ë„ëŸ¬ì›€
  istp_eunseok: {
    normal: ["ëŒë©©ì´ ì–´ì„œì˜¤ê³ ", "ì™•ì´ ë„˜ì–´ì§€ë©´? í‚¹ì½© ã…‹ã…‹", "ì¡°ìš©íˆ ì™”ë‹¤ ê°€ë¼"],
    love: ["ë„ˆ ë‚˜ ì¢‹ì•„í•˜ëƒ? ë³´ëŠ” ëˆˆì€ ìˆì–´ê°€ì§€ê³ ", "ë¶€ë„ëŸ½ê²Œ ì™œ ì´ë˜.. (ê·€ ë¹¨ê°œì§)", "ì¹­ì°¬ ì•ŒëŸ¬ì§€ ìˆìŒ.."],
    sad: ["ìš¸ë©´ ì‚°íƒ€ í• ì•„ë²„ì§€ê°€ ì„ ë¬¼ ì•ˆ ì¤€ëŒ€", "ëš ê·¸ì³ë¼", "ë°”ë‚˜ë‚˜ ë¨¹ìœ¼ë©´ ë‚˜í•œí…Œ ë°˜í•˜ë‚˜? ã…‹ã…‹(ìœ„ë¡œì„)"],
    scrap: ["í¼ê°€ìš”~ ë¬¼ì€ ì…€í”„ìš”~", "ë¶ˆíŒí•˜ë©´ ë‚´ ê¿ˆ ê¿”ë¼", "ê°€ì ¸ê°€ë“ ì§€ (ì‹ ê²½ ì•ˆ ì”€)"],
    ilchon: ["ì¼ì´Œ? ì´ì´Œì€ ì•ˆ ë˜ë‚˜ ã…‹ã…‹", "ì€ì„ì´ë‘ ê¸ˆì„ì´ë‘.. ë¯¸ì•ˆ", "ë°›ì•„ì¤„ê²Œ"]
  }
};

/* ===== 3. ë©¤ë²„ë³„ ë°ì´í„° ì„¤ì • ===== */
const members = [
  {
    name: "ë°•ì›ë¹ˆ",
    img: "https://via.placeholder.com/150/ffd1dc?text=Wonbin",
    bgm: { title: "RIIZE - Love 119", src: "bgm_wonbin.mp3" },
    replies: replyTemplates.isfp, // â˜… ISFP ì—°ê²°
    photos: [ /* ì›ë¹ˆ ì‚¬ì§„ ë°ì´í„°... */ ]
  },
  {
    name: "ë¦¬ì¿ ",
    img: "https://via.placeholder.com/150/add8e6?text=Riku",
    bgm: { title: "NCT WISH - SAIL AWAY", src: "bgm_riku.mp3" },
    replies: replyTemplates.isfp, // â˜… ISFP ì—°ê²°
    photos: [ /* ë¦¬ì¿  ì‚¬ì§„ ë°ì´í„°... */ ]
  },
  {
    name: "ë°±ì¤€í˜",
    img: "https://via.placeholder.com/150/f08080?text=Junhyeok",
    bgm: { title: "ID:Earth - Betelgeuse", src: "bgm_jun.mp3" },
    replies: replyTemplates.entp, // â˜… ENTP ì—°ê²°
    photos: [ /* ì¤€í˜ ì‚¬ì§„ ë°ì´í„°... */ ]
  },
  {
    name: "ì´ì†Œí¬",
    img: "https://via.placeholder.com/150/ffefd5?text=Sohee",
    bgm: { title: "RIIZE - Get A Guitar", src: "bgm_sohee.mp3" },
    replies: replyTemplates.istp_sohee, // â˜… ì†Œí¬ ì „ìš© ISTP
    photos: [ /* ì†Œí¬ ì‚¬ì§„ ë°ì´í„°... */ ]
  },
  {
    name: "ì•ˆê±´í˜¸",
    img: "https://via.placeholder.com/150/afeeee?text=Geonho",
    bgm: { title: "Kortis - Timeless", src: "bgm_geon.mp3" },
    replies: replyTemplates.cool_playful, // â˜… ì¿¨í•¨/ì¥ë‚œ
    photos: [ /* ê±´í˜¸ ì‚¬ì§„ ë°ì´í„°... */ ]
  },
  {
    name: "ì˜¤ì‹œì˜¨",
    img: "https://via.placeholder.com/150/e6e6fa?text=Sion",
    bgm: { title: "NCT WISH - WISH", src: "bgm_sion.mp3" },
    replies: replyTemplates.intj, // â˜… INTJ ë°˜ì „ë§¤ë ¥
    photos: [ /* ì‹œì˜¨ ì‚¬ì§„ ë°ì´í„°... */ ]
  },
  {
    name: "ì†¡ì€ì„",
    img: "https://via.placeholder.com/150/d0f0c0?text=Eunseok",
    bgm: { title: "RIIZE - Memories", src: "bgm_eunseok.mp3" },
    replies: replyTemplates.istp_eunseok, // â˜… ì€ì„ ì „ìš© ì•„ì¬ê°œê·¸ ISTP
    photos: [ /* ì€ì„ ì‚¬ì§„ ë°ì´í„°... */ ]
  },
  {
    name: "ì£¼í›ˆ", // ì£¼í›ˆ ë‹˜ ì„±ê²©ì€ ìœ„ ëª©ë¡ ì¤‘ ê°€ì¥ ë¹„ìŠ·í•œ ê±¸ë¡œ ì—°ê²° (ì¼ë‹¨ ì†Œí¬íƒ€ì…ìœ¼ë¡œ ì˜ˆì‹œ)
    img: "https://via.placeholder.com/150/fffacd?text=Joohun",
    bgm: { title: "Kortis - Coward", src: "bgm_joo.mp3" },
    replies: replyTemplates.istp_sohee, 
    photos: [ /* ì£¼í›ˆ ì‚¬ì§„ ë°ì´í„°... */ ]
  }
];

// í˜„ì¬ ì ‘ì†í•œ ë©¤ë²„ ëœë¤ ì„ íƒ
const currentMember = members[Math.floor(Math.random() * members.length)];

/* ===== 4. ì´ˆê¸°í™” ë° ì‚¬ì§„ì²© ìƒì„± í•¨ìˆ˜ ===== */
window.onload = () => {
  // 1) í”„ë¡œí•„ ì„¸íŒ…
  document.getElementById("profile-img").src = currentMember.img;
  document.getElementById("member-name").innerText = currentMember.name + " ë¯¸ë‹ˆí™ˆí”¼";
  
  // 2) BGM ì„¸íŒ… (marquee íš¨ê³¼)
  const bgm = document.getElementById("bgm");
  bgm.src = currentMember.bgm.src;
  document.getElementById("bgm-title").innerHTML = 
    "<marquee scrollamount='3'>ğŸµ BGM: " + currentMember.bgm.title + "</marquee>";

  // 3) ì‚¬ì§„ì²© ìƒì„± (â˜…ì¤‘ìš”: ì—¬ê¸°ì„œ ë©¤ë²„ë³„ ì‚¬ì§„ì„ ê°€ì ¸ì˜´)
  renderPhotos(currentMember.photos);
};

/* ì‚¬ì§„ì²© ê·¸ë¦¬ëŠ” í•¨ìˆ˜ */
function renderPhotos(photoList) {
  const photoWrap = document.getElementById('photos');
  photoWrap.innerHTML = ""; // ê¸°ì¡´ ë‚´ìš© ì´ˆê¸°í™”

  if(!photoList || photoList.length === 0) {
    photoWrap.innerHTML = "<p style='padding:20px; text-align:center;'>ì•„ì§ ì‚¬ì§„ì´ ì—†ì–´ìš”...</p>";
    return;
  }

  photoList.forEach((p, idx) => {
    const el = document.createElement('div');
    el.className = 'photo-post';
    el.innerHTML = `
      <img src="${p.img}">
      <p>${p.text.replace(/\n/g, '<br>')}</p>
      <span class="heart" onclick="toggleHeart(this, ${idx})">â™¥</span>
      <span id="heart-${idx}">${p.hearts}</span>
      <div class="comments" id="comments-${idx}"></div>
      <input class="comment-input" placeholder="ëŒ“ê¸€ ë‚¨ê¸°ê¸°"
        onkeydown="if(event.key==='Enter') addComment(${idx},this)">
    `;
    photoWrap.appendChild(el);
  });
}

/* í•˜íŠ¸ í´ë¦­ ê¸°ëŠ¥ */
function toggleHeart(el, idx) {
  el.classList.toggle('active');
  // í™”ë©´ìƒì—ì„œë§Œ ìˆ«ì ë°”ë€œ (ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì´ˆê¸°í™”ë¨)
  let countSpan = document.getElementById(`heart-${idx}`);
  let currentVal = parseInt(countSpan.innerText);
  countSpan.innerText = el.classList.contains('active') ? currentVal + 1 : currentVal - 1;
}

/* ëŒ“ê¸€ ê¸°ëŠ¥ */
const prefixes = ["â˜…ë² í”„â˜…", "ë‚´ì‚¬ë‘", "ã…‡ã…‡ã…ˆjang", "ê²¸ë‘¥ì´", "ë‹¨ì§", "íŒ¬1í˜¸"];
function addComment(idx, input) {
  if (!input.value.trim()) return;
  const randomPrefix = prefixes[Math.floor(Math.random() * prefixes.length)];
  const c = document.createElement('div');
  c.className = 'comment';
  c.innerHTML = `<b>${randomPrefix} ìµëª…:</b> ${input.value}`;
  document.getElementById(`comments-${idx}`).appendChild(c);
  input.value = '';
}

/* ë°©ëª…ë¡ ê¸°ëŠ¥ (ìˆ˜ì •ë¨!) */
function postMsg() {
  const msgInput = document.getElementById("user-msg");
  const userMsg = msgInput.value.trim();
  if (!userMsg) return;

  const list = document.getElementById("guestbook-list");
  const entry = document.createElement("div");
  entry.className = "guestbook-entry";
  const id = "r-" + Date.now();

  entry.innerHTML = `<b>ìµëª…:</b> ${userMsg}<div class="ai-reply" id="${id}">...</div>`;
  list.prepend(entry);
  msgInput.value = "";

  setTimeout(() => {
    // 1. ë©”ì„¸ì§€ íƒ€ì… ë¶„ë¥˜ (ê°„ë‹¨ ë²„ì „)
    let type = "normal";
    if(userMsg.includes("í¼ê°€") || userMsg.includes("ìŠ¤í¬ë©")) type="scrap";
    else if(userMsg.includes("ì‚¬ë‘") || userMsg.includes("ì¢‹ì•„") || userMsg.includes("ì‚¬ê·€")) type="love";
    else if(userMsg.includes("í˜ë“¤") || userMsg.includes("ã… ã… ") || userMsg.includes("ìš°ìš¸")) type="sad";
    else if(userMsg.includes("ì¼ì´Œ") || userMsg.includes("ì‹ ì²­")) type="ilchon";
    
    // 2. ë‹µì¥ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (â˜…ìˆ˜ì •ëœ ë¶€ë¶„â˜…)
    // ì´ì œ ì¤‘ê°„ ë‹¨ê³„ ì—†ì´ ë°”ë¡œ replies[type]ì„ ì°¾ìŠµë‹ˆë‹¤.
    const replyPool = currentMember.replies[type] || currentMember.replies['normal'];
    
    // 3. ëœë¤ ì„ íƒ
    const reply = replyPool[Math.floor(Math.random() * replyPool.length)];
    
    document.getElementById(id).innerText = `ã„´ ${currentMember.name}: ${reply}`;
  }, 1000);
}

/* ì²« í´ë¦­ ì‹œ BGM ì¬ìƒ */
window.addEventListener("click", () => {
  const bgm = document.getElementById("bgm");
  if (bgm.paused) { bgm.volume = 0.5; bgm.play(); }
}, { once: true });

</script>
</body>
</html>

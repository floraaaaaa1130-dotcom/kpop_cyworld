<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>â˜†-..- 2005ë…„ì˜ ì–´ëŠ ë‚  -..-â˜†</title>

<style>
@font-face {
  font-family: 'GalmuriCondensed';
  src: url('fonts/GalmuriCondensed.woff2') format('woff2');
}
* {
  font-family: 'GalmuriCondensed', monospace;
  box-sizing: border-box;
}
:root {
  --main-blue:#8cc6d1; --bg-gray:#f6f6f6;
  --cy-orange:#ff6600; --cy-blue:#3b5998;
}
body {
  background:#b1b1b1; display:flex; justify-content:center;
  padding-top:40px; margin:0;
}
.wrapper {
  background:var(--main-blue);
  padding:25px 15px 15px 25px;
  border-radius:10px;
  width:850px; height:550px;
}
.white-box {
  background:white; border-radius:8px;
  height:100%; display:flex; padding:15px;
}
.profile {
  width:28%; border-right:1px dashed #ccc;
  padding-right:15px; text-align:center;
}
.profile-img { width:100%; margin-bottom:10px; }

.main-content {
  width:72%; padding-left:20px;
  display:flex; flex-direction:column;
}
  
#bgm-title {
  font-size: 11px;       /* ì›í•˜ëŠ” í¬ê¸°ë¡œ ì¡°ì ˆ (ì˜ˆ: 11px, 12px) */
  color: #3b5998;        /* (ì„ íƒì‚¬í•­) ì‹¸ì´ì›”ë“œ ì§™ì€ íŒŒë€ìƒ‰ */
  margin-top: 5px;       /* ìœ„ìª½ ì—¬ë°± ì¡°ì ˆ */
  letter-spacing: -1px;  /* ìê°„ì„ ì¢í˜€ì„œ ë” ë„íŠ¸ ëŠë‚Œ ë‚˜ê²Œ */
}
  
/* ===== íƒ­ ===== */
.tabs {
  display:flex; gap:10px; margin-bottom:10px;
}
.tab {
  cursor:pointer;
  padding:4px 8px;
  border:1px solid #ccc;
  background:#f5f5f5;
}
.tab.active {
  background:white;
  border-bottom:2px solid var(--cy-orange);
  font-weight:bold;
}

/* ===== ê³µí†µ ìŠ¤í¬ë¡¤ ì˜ì—­ ===== */
.content-area {
  flex-grow:1;
  overflow-y:auto;
}

/* ===== ë°©ëª…ë¡ ===== */
.guestbook-entry {
  background:#f6f6f6;
  padding:10px;
  margin-bottom:12px;
  border-radius:5px;
}
.ai-reply {
  color:#ff6600;
  margin-top:6px;
  border-top:1px dotted #ccc;
  padding-top:4px;
}
  
.input-area {
  margin-top:10px;
  border-top:2px solid #8cc6d1;
  padding-top:8px;
}

textarea {
  width:96%;
  height:40px;
}

button {
  float:right;
  margin-top:6px;
  cursor:pointer;
}

/* ===== ì‚¬ì§„ì²© ===== */
.photo-post {
  background:var(--bg-gray);
  padding:10px;
  margin-bottom:15px;
}
.photo-post img {
  width:100%; margin-bottom:8px;
}
.heart {
  cursor:pointer;
  color:#999;
  margin-right:8px;
}
.heart.active { color:red; }
.comments {
  margin-top:8px;
  font-size:13px;
}
.comment {
  border-top:1px dotted #ccc;
  padding-top:4px;
}
input.comment-input {
  width:100%;
  margin-top:6px;
}
</style>
</head>

<body>
<div class="wrapper">
<div class="white-box">

<!-- ì™¼ìª½ -->
<div class="profile">
  <img id="profile-img" class="profile-img">
  <p id="member-name"></p>
  <p id="bgm-title"></p>
</div>

<!-- ì˜¤ë¥¸ìª½ -->
<div class="main-content">

<!-- íƒ­ -->
<div class="tabs">
  <div class="tab active" onclick="showTab('guestbook')">ë°©ëª…ë¡</div>
  <div class="tab" onclick="showTab('photos')">ì‚¬ì§„ì²©</div>
</div>

<!-- ë°©ëª…ë¡ -->
<div id="guestbook" class="content-area">
  <div id="guestbook-list"></div>
  <textarea id="user-msg" placeholder="ì¼ì´Œ ì‹ ì²­í•˜ê³  ê°€ì„¸íš¨..."></textarea>
  <button onclick="postMsg()">í™•ì¸</button>
</div>

<!-- ì‚¬ì§„ì²© -->
<div id="photos" class="content-area" style="display:none;"></div>

</div>
</div>
</div>

<audio id="bgm" loop></audio>

<script>
/* ===== íƒ­ ì „í™˜ ===== */
function showTab(name){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('guestbook').style.display = name==='guestbook'?'block':'none';
  document.getElementById('photos').style.display = name==='photos'?'block':'none';
}

/* ===== ì‚¬ì§„ ë°ì´í„° ===== */
const photos = Array.from({length:6}).map((_,i)=>({
  img:`https://via.placeholder.com/400x250?text=PHOTO+${i+1}`,
  text:`ê·¸ë‚ ì˜ ê¸°ë¡ ${i+1}`,
  hearts:0,
  comments:[]
}));

const photoWrap = document.getElementById('photos');

photos.forEach((p,idx)=>{
  const el=document.createElement('div');
  el.className='photo-post';
  el.innerHTML=`
    <img src="${p.img}">
    <p>${p.text}</p>
    <span class="heart" onclick="toggleHeart(this,${idx})">â™¥</span>
    <span id="heart-${idx}">0</span>
    <div class="comments" id="comments-${idx}"></div>
    <input class="comment-input" placeholder="ëŒ“ê¸€ ë‚¨ê¸°ê¸°"
      onkeydown="if(event.key==='Enter') addComment(${idx},this)">
  `;
  photoWrap.appendChild(el);
});

function toggleHeart(el,idx){
  el.classList.toggle('active');
  photos[idx].hearts += el.classList.contains('active')?1:-1;
  document.getElementById(`heart-${idx}`).innerText = photos[idx].hearts;
}
function addComment(idx,input){
  if(!input.value.trim())return;
  const c=document.createElement('div');
  c.className='comment';
  c.innerText='ìµëª…: '+input.value;
  document.getElementById(`comments-${idx}`).appendChild(c);
  input.value='';
}
  
    const members = [
      {
        name: "ë¯¼ìš°",
        img: "https://via.placeholder.com/150/ffd6d6",
        bgm: { title: "ë²„ì¦ˆ - ê²ìŸì´", src: "bgm_minwoo.mp3" },
        replies: {
          cool: {
            normal: ["í”ì ì€ í™•ì¸í•¨", "ë³´ê³  ê·¸ëƒ¥ ì§€ë‚˜ì¹  ë»”"],
            love: ["ê·¸ëŸ° ë§ ì‰½ê²Œ í•˜ì§€ ë§ˆ", "ë°©ëª…ë¡ ë„ˆë¬´ ê³¼ê°í•¨"]
          },
          sweet: {
            normal: ["ì™€ì¤˜ì„œ ê³ ë§ˆì›Œ", "ì˜¤ëŠ˜ ê¸°ë¶„ ì¢‹ì•„ì§"],
            love: ["ê·¸ë ‡ê²Œ ë§í•˜ë©´ ì„¤ë ˆì–ì•„", "ì‹¬ì¥ ì•„í””"]
          },
          pissy: {
            normal: ["ë´¤ê±°ë“ ", "ì§€ê¸ˆ ê¸°ë¶„ ë³„ë¡œ"],
            love: ["ì§€ê¸ˆ ì´ëŸ° ë§ í•  íƒ€ì´ë° ì•„ë‹˜"]
          },
          rumor: [
            "ê·¸ëŸ° ì–˜ê¸° ì–´ë””ì„œ ë“¤ì€ ê±°ì•¼?",
            "í™•ì¸ ì•ˆ ëœ ë§ ì‹«ì–´í•¨"
          ]
        }
      },
      {
        name: "ì§€í›ˆ",
        img: "https://via.placeholder.com/150/d6eaff",
        bgm: { title: "ì„±ì‹œê²½ - ê±°ë¦¬ì—ì„œ", src: "bgm_jihun.mp3" },
        replies: {
          cool: {
            normal: ["í”ì  ë‚¨ê¸´ ê±° ë´¤ì–´"],
            love: ["ê°‘ìê¸° ê·¸ëŸ° ë§ í•˜ë©´ ê³¤ë€í•´"]
          },
          sweet: {
            normal: ["ì™€ì¤˜ì„œ ê³ ë§ˆì›Œ!", "ê¸°ë¶„ ì¢‹ì•„ì¡Œì–´"],
            love: ["ê·¸ë ‡ê²Œ ë§í•˜ë©´ ë°˜ì¹™ì´ì•¼"]
          },
          pissy: {
            normal: ["ì§€ê¸ˆ ë‹µê¸€ ë‹¬ ê¸°ë¶„ ì•„ë‹˜"],
            love: ["ê·¸ë§Œí•´"]
          },
          rumor: [
            "ê·¸ ì–˜ê¸° ì—¬ê¸°ì„œ í•˜ì§€ ë§ˆ",
            "ì†Œë¬¸ í¼ëœ¨ë¦¬ëŠ” ê±° ë³„ë¡œì•¼"
          ]
        }
      }
    ];

    const moods = ["cool", "sweet", "pissy"];
    const silentChance = { cool: 0.05, sweet: 0, pissy: 0.4 };

    const currentMember = members[Math.floor(Math.random() * members.length)];
    const currentMood = moods[Math.floor(Math.random() * moods.length)];

    /* ===== í˜ì´ì§€ ë¡œë“œì‹œ ì„¸íŒ… ===== */
    window.onload = () => {
      document.getElementById("profile-img").src = currentMember.img;
      document.getElementById("member-name").innerText =
        currentMember.name + " ë¯¸ë‹ˆí™ˆí”¼";

      const bgm = document.getElementById("bgm");
      bgm.src = currentMember.bgm.src;
document.getElementById("bgm-title").innerHTML = 
  "<marquee scrollamount='3'>ğŸµ BGM: " + currentMember.bgm.title + "</marquee>";
    };

    /* ===== ì§ˆë¬¸ ë¶„ë¥˜ ===== */
    function classifyMessage(msg) {
      const t = msg.replace(/\s/g, "");
      if (t.includes("ì‚¬ê·€") || t.includes("ëˆ„êµ¬ë‘") || t.includes("ì†Œë¬¸")) return "rumor";
      if (t.includes("ì¢‹ì•„") || t.includes("ì‚¬ë‘")) return "love";
      if (t.includes("ë­í•´") || t.includes("ëª¨í•´")) return "normal";
      return "normal";
    }

    function pickReply(msg) {
      const type = classifyMessage(msg);
      if (type === "rumor") return currentMember.replies.rumor;
      return currentMember.replies[currentMood][type];
    }

    /* ===== ë°©ëª…ë¡ ===== */
    function postMsg() {
      const msgInput = document.getElementById("user-msg");
      const list = document.getElementById("guestbook-list");
      const userMsg = msgInput.value.trim();
      if (!userMsg) return;

      const entry = document.createElement("div");
      entry.className = "guestbook-entry";
      const id = "r-" + Date.now();

      entry.innerHTML = `
        <b>ìµëª…:</b> ${userMsg}
        <div class="ai-reply" id="${id}">...</div>
      `;
      list.prepend(entry);
      msgInput.value = "";

      setTimeout(() => {
        // ğŸ˜¶â€ğŸŒ«ï¸ ì™„ì „ ì½ì”¹
        if (Math.random() < silentChance[currentMood]) {
          const el = document.getElementById(id);
          if (el) el.remove();
          return;
        }

        const pool = pickReply(userMsg);
        const reply = pool[Math.floor(Math.random() * pool.length)];
        document.getElementById(id).innerText =
          `ã„´ ${currentMember.name}: ` + reply;
      }, 800 + Math.random() * 1200);
    }

    /* ===== ì²« í´ë¦­ ì‹œ BGM ì¬ìƒ ===== */
    window.addEventListener("click", () => {
      const bgm = document.getElementById("bgm");
      if (bgm.paused) {
        bgm.volume = 0.5;
        bgm.play();
      }
    }, { once: true });
  </script>
</body>
</html>




